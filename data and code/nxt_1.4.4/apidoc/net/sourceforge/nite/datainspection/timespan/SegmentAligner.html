<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!--NewPage-->
<HTML>
<HEAD>
<!-- Generated by javadoc (build 1.6.0_21) on Wed Jan 05 17:12:49 GMT 2011 -->
<TITLE>
SegmentAligner
</TITLE>

<META NAME="date" CONTENT="2011-01-05">

<LINK REL ="stylesheet" TYPE="text/css" HREF="../../../../../stylesheet.css" TITLE="Style">

<SCRIPT type="text/javascript">
function windowTitle()
{
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="SegmentAligner";
    }
}
</SCRIPT>
<NOSCRIPT>
</NOSCRIPT>

</HEAD>

<BODY BGCOLOR="white" onload="windowTitle();">
<HR>


<!-- ========= START OF TOP NAVBAR ======= -->
<A NAME="navbar_top"><!-- --></A>
<A HREF="#skip-navbar_top" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_top_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../../../net/sourceforge/nite/datainspection/timespan/QuickScan.html" title="class in net.sourceforge.nite.datainspection.timespan"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../../../../net/sourceforge/nite/datainspection/timespan/SegmentAlignment.html" title="class in net.sourceforge.nite.datainspection.timespan"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../../../index.html?net/sourceforge/nite/datainspection/timespan/SegmentAligner.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="SegmentAligner.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;FIELD&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;FIELD&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_top"></A>
<!-- ========= END OF TOP NAVBAR ========= -->

<HR>
<!-- ======== START OF CLASS DATA ======== -->
<H2>
<FONT SIZE="-1">
net.sourceforge.nite.datainspection.timespan</FONT>
<BR>
Class SegmentAligner</H2>
<PRE>
java.lang.Object
  <IMG SRC="../../../../../resources/inherit.gif" ALT="extended by "><B>net.sourceforge.nite.datainspection.timespan.SegmentAligner</B>
</PRE>
<HR>
<DL>
<DT><PRE>public class <B>SegmentAligner</B><DT>extends java.lang.Object</DL>
</PRE>

<P>
Aligns two 'segment annotations'.

 See design on paper for documentation
<P>

<P>
<HR>

<P>

<!-- ======== CONSTRUCTOR SUMMARY ======== -->

<A NAME="constructor_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Constructor Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><B><A HREF="../../../../../net/sourceforge/nite/datainspection/timespan/SegmentAligner.html#SegmentAligner()">SegmentAligner</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
</TABLE>
&nbsp;
<!-- ========== METHOD SUMMARY =========== -->

<A NAME="method_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Method Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;<A HREF="../../../../../net/sourceforge/nite/datainspection/timespan/SegmentAlignment.html" title="class in net.sourceforge.nite.datainspection.timespan">SegmentAlignment</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../net/sourceforge/nite/datainspection/timespan/SegmentAligner.html#alignSegments(java.util.ArrayList, java.util.ArrayList, double, net.sourceforge.nite.util.Predicate)">alignSegments</A></B>(java.util.ArrayList&nbsp;segmentList1,
              java.util.ArrayList&nbsp;segmentList2,
              double&nbsp;th,
              <A HREF="../../../../../net/sourceforge/nite/util/Predicate.html" title="interface in net.sourceforge.nite.util">Predicate</A>&nbsp;isIgnoreP)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This default alignment method takes two segments to be 'equal' if the difference in time is at most 'th'.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;java.util.ArrayList</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../net/sourceforge/nite/datainspection/timespan/SegmentAligner.html#createFinalMatching(java.util.ArrayList, java.util.Set, java.util.Set)">createFinalMatching</A></B>(java.util.ArrayList&nbsp;candidates,
                    java.util.Set&nbsp;unmatched1,
                    java.util.Set&nbsp;unmatched2)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;recursive: make one heaviest match final, then split in left and right and do again
    method taken from {kuper2004,IJCAI, MUMIS merging}
    candidatematching lists are sorted on weight! but final matching list will automatically be sorted on time!

    also modifies the unmatchedSegmentLists...</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;<A HREF="../../../../../net/sourceforge/nite/util/WeightedPair.html" title="class in net.sourceforge.nite.util">WeightedPair</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../net/sourceforge/nite/datainspection/timespan/SegmentAligner.html#getCandidate(net.sourceforge.nite.nom.nomwrite.impl.NOMWriteElement, net.sourceforge.nite.nom.nomwrite.impl.NOMWriteElement, double, net.sourceforge.nite.util.Predicate)">getCandidate</A></B>(<A HREF="../../../../../net/sourceforge/nite/nom/nomwrite/impl/NOMWriteElement.html" title="class in net.sourceforge.nite.nom.nomwrite.impl">NOMWriteElement</A>&nbsp;nwe1,
             <A HREF="../../../../../net/sourceforge/nite/nom/nomwrite/impl/NOMWriteElement.html" title="class in net.sourceforge.nite.nom.nomwrite.impl">NOMWriteElement</A>&nbsp;nwe2,
             double&nbsp;th,
             <A HREF="../../../../../net/sourceforge/nite/util/Predicate.html" title="interface in net.sourceforge.nite.util">Predicate</A>&nbsp;isIgnoreP)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Given two segments from different coders, return null if they cannot be aligned (e.g.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../net/sourceforge/nite/datainspection/timespan/SegmentAligner.html#selectFinalMatchings(net.sourceforge.nite.datainspection.timespan.SegmentAlignment, java.util.ArrayList)">selectFinalMatchings</A></B>(<A HREF="../../../../../net/sourceforge/nite/datainspection/timespan/SegmentAlignment.html" title="class in net.sourceforge.nite.datainspection.timespan">SegmentAlignment</A>&nbsp;data,
                     java.util.ArrayList&nbsp;candidateMatchings)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Use a derivation of the MUMIS merging algorithm to select final alignments between segments of different annotators.</TD>
</TR>
</TABLE>
&nbsp;<A NAME="methods_inherited_from_class_java.lang.Object"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TH ALIGN="left"><B>Methods inherited from class java.lang.Object</B></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE>equals, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</CODE></TD>
</TR>
</TABLE>
&nbsp;
<P>

<!-- ========= CONSTRUCTOR DETAIL ======== -->

<A NAME="constructor_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Constructor Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="SegmentAligner()"><!-- --></A><H3>
SegmentAligner</H3>
<PRE>
public <B>SegmentAligner</B>()</PRE>
<DL>
</DL>

<!-- ============ METHOD DETAIL ========== -->

<A NAME="method_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Method Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="alignSegments(java.util.ArrayList, java.util.ArrayList, double, net.sourceforge.nite.util.Predicate)"><!-- --></A><H3>
alignSegments</H3>
<PRE>
public static <A HREF="../../../../../net/sourceforge/nite/datainspection/timespan/SegmentAlignment.html" title="class in net.sourceforge.nite.datainspection.timespan">SegmentAlignment</A> <B>alignSegments</B>(java.util.ArrayList&nbsp;segmentList1,
                                             java.util.ArrayList&nbsp;segmentList2,
                                             double&nbsp;th,
                                             <A HREF="../../../../../net/sourceforge/nite/util/Predicate.html" title="interface in net.sourceforge.nite.util">Predicate</A>&nbsp;isIgnoreP)</PRE>
<DL>
<DD>This default alignment method takes two segments to be 'equal' if the difference in time is at most 'th'.
    First all potential candidates are selected (based on th); then the final matchings are selected, searching
    through the candidates for the 'best' matches.
    It is certain that each segments is aligned only once, but there is no garantuee about how this is achieved.
<P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="getCandidate(net.sourceforge.nite.nom.nomwrite.impl.NOMWriteElement, net.sourceforge.nite.nom.nomwrite.impl.NOMWriteElement, double, net.sourceforge.nite.util.Predicate)"><!-- --></A><H3>
getCandidate</H3>
<PRE>
public static <A HREF="../../../../../net/sourceforge/nite/util/WeightedPair.html" title="class in net.sourceforge.nite.util">WeightedPair</A> <B>getCandidate</B>(<A HREF="../../../../../net/sourceforge/nite/nom/nomwrite/impl/NOMWriteElement.html" title="class in net.sourceforge.nite.nom.nomwrite.impl">NOMWriteElement</A>&nbsp;nwe1,
                                        <A HREF="../../../../../net/sourceforge/nite/nom/nomwrite/impl/NOMWriteElement.html" title="class in net.sourceforge.nite.nom.nomwrite.impl">NOMWriteElement</A>&nbsp;nwe2,
                                        double&nbsp;th,
                                        <A HREF="../../../../../net/sourceforge/nite/util/Predicate.html" title="interface in net.sourceforge.nite.util">Predicate</A>&nbsp;isIgnoreP)</PRE>
<DL>
<DD>Given two segments from different coders, return null if they cannot be aligned (e.g. too far away),
 or a weighted pair as candidate if they MIGHT be aligned.

 Parameters & rules for deciding candidates, in order of application:
      If one of the elements is an ignore element, there is no alignment. 
      To be considered a candidate alginemt, the start points, and the end points, 
          should be apart no more than /th/ seconds.
 <p>
 If the timing constraints are met, the pair is a candidate for alignment. The WEIGHT of the alignments
 is calculated based on timing difference 

<p><p><p>NOT APPLIED YET is the following extension. (see also package documentation)
          as a special case, the elements should be 'very large'. In the last case
          there should be a large /overlap/ between the segments. (The rationale is that if 
          segments are 20 seconds long, then a delay of 2 seconds is not as bad as long as the
          /overlap/ between the segments is e.g. 15 seconds).
          'Large enough': overlap divided by sum of lengths should be .25 or larger
          ( they overlap for more than half (equalsized) or e.g. one is no more than 3 
           times size of other (unequalsized containment))

<p><p><p>NOT APPLIED YET is the following extension. (see also package documentation)
 WEIGHT is also determined by the labelling difference as calculated by the DistanceMetric
 from the constructor.
<P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="selectFinalMatchings(net.sourceforge.nite.datainspection.timespan.SegmentAlignment, java.util.ArrayList)"><!-- --></A><H3>
selectFinalMatchings</H3>
<PRE>
public static void <B>selectFinalMatchings</B>(<A HREF="../../../../../net/sourceforge/nite/datainspection/timespan/SegmentAlignment.html" title="class in net.sourceforge.nite.datainspection.timespan">SegmentAlignment</A>&nbsp;data,
                                        java.util.ArrayList&nbsp;candidateMatchings)</PRE>
<DL>
<DD>Use a derivation of the MUMIS merging algorithm to select final alignments between segments of different annotators.
<P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="createFinalMatching(java.util.ArrayList, java.util.Set, java.util.Set)"><!-- --></A><H3>
createFinalMatching</H3>
<PRE>
public static java.util.ArrayList <B>createFinalMatching</B>(java.util.ArrayList&nbsp;candidates,
                                                      java.util.Set&nbsp;unmatched1,
                                                      java.util.Set&nbsp;unmatched2)</PRE>
<DL>
<DD>recursive: make one heaviest match final, then split in left and right and do again
    method taken from {kuper2004,IJCAI, MUMIS merging}
    candidatematching lists are sorted on weight! but final matching list will automatically be sorted on time!

    also modifies the unmatchedSegmentLists...
<P>
<DD><DL>
</DL>
</DD>
</DL>
<!-- ========= END OF CLASS DATA ========= -->
<HR>


<!-- ======= START OF BOTTOM NAVBAR ====== -->
<A NAME="navbar_bottom"><!-- --></A>
<A HREF="#skip-navbar_bottom" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_bottom_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../../../net/sourceforge/nite/datainspection/timespan/QuickScan.html" title="class in net.sourceforge.nite.datainspection.timespan"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../../../../net/sourceforge/nite/datainspection/timespan/SegmentAlignment.html" title="class in net.sourceforge.nite.datainspection.timespan"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../../../index.html?net/sourceforge/nite/datainspection/timespan/SegmentAligner.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="SegmentAligner.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;FIELD&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;FIELD&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_bottom"></A>
<!-- ======== END OF BOTTOM NAVBAR ======= -->

<HR>

</BODY>
</HTML>
